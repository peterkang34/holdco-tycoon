import { SectorDefinition } from '../engine/types';

// All EBITDA values are in thousands (so 1500 = $1.5M, 15000 = $15M)
// Scaled to realistic holdco acquisition targets ($1M-$10M+ EBITDA businesses)
export const SECTORS: Record<string, SectorDefinition> = {
  agency: {
    id: 'agency',
    name: 'Marketing & Advertising',
    emoji: 'üé®',
    color: '#E07A5F',
    baseEbitda: [800, 3000],
    acquisitionMultiple: [2.5, 5.0],
    volatility: 0.18,
    capexRate: 0.03,
    organicGrowthRange: [-0.02, 0.08],
    reinvestmentEfficiency: 1.2,
    clientConcentration: 'high',
    talentDependency: 'high',
    recessionSensitivity: 1.2,
    sharedServicesBenefit: 1.4,
    sectorFocusGroup: ['agency', 'b2bServices'],
    subTypes: [
      'Digital/Ecommerce Agency',
      'Creative/Brand Agency',
      'Performance Media Agency',
      'SEO/Content Agency',
      'Web Development Agency',
      'PR / Communications',
      'Influencer / Social Media',
    ],
    // Affinity groups: 0=performance/digital, 1=creative/production
    subTypeGroups: [0, 1, 0, 0, 1, 1, 0],
    subTypeMarginModifiers: [0, 0, 0, 0, 0, 0.02, -0.02],
    subTypeGrowthModifiers: [0, 0, 0, 0, 0, -0.01, 0.03],
    baseRevenue: [3200, 25000],    // 800/0.25=3200, 3000/0.12=25000
    baseMargin: [0.12, 0.25],
    marginDriftRange: [-0.008, -0.003],
    marginVolatility: 0.02,
  },
  saas: {
    id: 'saas',
    name: 'Software & SaaS',
    emoji: 'üíª',
    color: '#3D85C6',
    baseEbitda: [1200, 4500],
    acquisitionMultiple: [4.5, 8.0],
    volatility: 0.08,
    capexRate: 0.10,
    organicGrowthRange: [0.02, 0.10],
    reinvestmentEfficiency: 1.0,
    clientConcentration: 'low',
    talentDependency: 'medium',
    recessionSensitivity: 0.5,
    sharedServicesBenefit: 0.8,
    sectorFocusGroup: ['saas', 'b2bServices'],
    subTypes: [
      'Vertical-Market SaaS',
      'Horizontal SaaS',
      'Dev Tools / Infrastructure',
      'Micro-SaaS Product',
      'Security / Compliance SaaS',
      'Marketplace / Platform',
    ],
    // Affinity groups: 0=product SaaS, 1=infrastructure/tools
    subTypeGroups: [0, 0, 1, 1, 1, 0],
    subTypeMarginModifiers: [0, 0, 0, 0, 0.03, -0.02],
    subTypeGrowthModifiers: [0, 0, 0, 0, 0.01, 0.02],
    baseRevenue: [2667, 22500],    // 1200/0.45=2667, 4500/0.20=22500
    baseMargin: [0.20, 0.45],
    marginDriftRange: [-0.003, 0.002],
    marginVolatility: 0.015,
  },
  homeServices: {
    id: 'homeServices',
    name: 'Home Services',
    emoji: 'üîß',
    color: '#6A9955',
    baseEbitda: [1000, 4000],
    acquisitionMultiple: [2.5, 5.5],
    volatility: 0.06,
    capexRate: 0.12,
    organicGrowthRange: [0.01, 0.06],
    reinvestmentEfficiency: 0.9,
    clientConcentration: 'low',
    talentDependency: 'medium',
    recessionSensitivity: 0.3,
    sharedServicesBenefit: 1.2,
    sectorFocusGroup: ['homeServices'],
    subTypes: [
      'HVAC Services',
      'Plumbing Services',
      'Electrical Services',
      'Pest Control',
      'Property Management',
      'Roofing / Exterior Services',
      'Landscaping / Lawn Care',
      'Cleaning / Janitorial',
    ],
    // Affinity groups: 0=skilled trades, 1=property services, 2=management
    subTypeGroups: [0, 0, 0, 1, 2, 1, 1, 1],
    subTypeMarginModifiers: [0, 0, 0, 0, 0, 0, -0.02, -0.03],
    subTypeGrowthModifiers: [0, 0, 0, 0, 0, 0, 0.01, 0.02],
    baseRevenue: [3571, 26667],    // 1000/0.28=3571, 4000/0.15=26667
    baseMargin: [0.15, 0.28],
    marginDriftRange: [-0.005, -0.001],
    marginVolatility: 0.01,
  },
  consumer: {
    id: 'consumer',
    name: 'Consumer Brands',
    emoji: 'üõçÔ∏è',
    color: '#C27BA0',
    baseEbitda: [900, 3500],
    acquisitionMultiple: [3.5, 6.5],
    volatility: 0.14,
    capexRate: 0.13,
    organicGrowthRange: [-0.01, 0.07],
    reinvestmentEfficiency: 1.1,
    clientConcentration: 'medium',
    talentDependency: 'low',
    recessionSensitivity: 1.0,
    sharedServicesBenefit: 1.0,
    sectorFocusGroup: ['consumer', 'restaurant'],
    subTypes: [
      'DTC / Ecommerce Brand',
      'CPG / Household Goods',
      'Food & Beverage Brand',
      'Beauty / Personal Care',
      'Specialty / Luxury Goods',
      'Spirits / Wine',
    ],
    // Affinity groups: 0=retail/DTC, 1=food/luxury
    subTypeGroups: [0, 0, 1, 0, 1, 1],
    baseRevenue: [4091, 35000],    // 900/0.22=4091, 3500/0.10=35000
    baseMargin: [0.10, 0.22],
    marginDriftRange: [-0.008, -0.003],
    marginVolatility: 0.025,
  },
  industrial: {
    id: 'industrial',
    name: 'Industrial / Manufacturing',
    emoji: 'üè≠',
    color: '#8E7CC3',
    baseEbitda: [1500, 6000],
    acquisitionMultiple: [4.0, 7.0],
    volatility: 0.06,
    capexRate: 0.15,
    organicGrowthRange: [0.00, 0.05],
    reinvestmentEfficiency: 0.8,
    clientConcentration: 'low',
    talentDependency: 'low',
    recessionSensitivity: 0.7,
    sharedServicesBenefit: 1.3,
    sectorFocusGroup: ['industrial'],
    subTypes: [
      'Precision Parts / Components',
      'Aerospace Aftermarket',
      'Specialty Instruments / Testing',
      'Industrial Distribution',
      'Engineered Products',
      'Packaging / Containers',
      'Environmental / Waste Services',
    ],
    // Affinity groups: 0=manufacturing, 1=distribution/testing
    subTypeGroups: [0, 0, 1, 1, 0, 0, 1],
    subTypeMarginModifiers: [0, 0, 0, 0, 0, -0.02, 0.02],
    subTypeGrowthModifiers: [0, 0, 0, 0, 0, 0.01, 0.02],
    baseRevenue: [4688, 42857],    // 1500/0.32=4688, 6000/0.14=42857
    baseMargin: [0.14, 0.32],
    marginDriftRange: [-0.004, -0.001],
    marginVolatility: 0.01,
  },
  b2bServices: {
    id: 'b2bServices',
    name: 'B2B Services',
    emoji: 'üìä',
    color: '#6C8EBF',
    baseEbitda: [1000, 3800],
    acquisitionMultiple: [3.0, 6.0],
    volatility: 0.10,
    capexRate: 0.06,
    organicGrowthRange: [0.00, 0.07],
    reinvestmentEfficiency: 1.0,
    clientConcentration: 'medium',
    talentDependency: 'medium',
    recessionSensitivity: 0.8,
    sharedServicesBenefit: 1.3,
    sectorFocusGroup: ['b2bServices', 'agency', 'saas'],
    subTypes: [
      'IT Managed Services (MSP)',
      'Finance / Accounting Services',
      'HR / Staffing',
      'Consulting / Advisory',
      'Data / Analytics Services',
      'Insurance Brokerage / TPA',
      'Commercial Cleaning',
    ],
    // Affinity groups: 0=tech services, 1=professional services, 2=people services
    subTypeGroups: [0, 1, 2, 1, 0, 1, 2],
    subTypeMarginModifiers: [0, 0, 0, 0, 0, 0.03, -0.03],
    subTypeGrowthModifiers: [0, 0, 0, 0, 0, 0.01, 0.02],
    baseRevenue: [3333, 25333],    // 1000/0.30=3333, 3800/0.15=25333
    baseMargin: [0.15, 0.30],
    marginDriftRange: [-0.005, -0.001],
    marginVolatility: 0.015,
  },
  healthcare: {
    id: 'healthcare',
    name: 'Healthcare Services',
    emoji: 'üè•',
    color: '#E06666',
    baseEbitda: [1200, 5000],
    acquisitionMultiple: [4.0, 7.5],
    volatility: 0.09,
    capexRate: 0.10,
    organicGrowthRange: [0.02, 0.08],
    reinvestmentEfficiency: 0.9,
    clientConcentration: 'low',
    talentDependency: 'high',
    recessionSensitivity: 0.2,
    sharedServicesBenefit: 1.1,
    sectorFocusGroup: ['healthcare'],
    subTypes: [
      'Physician Group / Multi-Specialty Practice',
      'Dental Practice Group',
      'Ophthalmology / Specialty Care',
      'Home Health / Hospice',
      'Behavioral Health',
      'Veterinary Services',
      'Physical Therapy / Rehab',
    ],
    // Affinity groups: 0=clinical practices, 1=home-based care, 2=behavioral
    subTypeGroups: [0, 0, 0, 1, 2, 0, 0],
    subTypeMarginModifiers: [0, 0, 0, 0, 0, 0.02, -0.01],
    subTypeGrowthModifiers: [0, 0, 0, 0, 0, 0.015, 0.01],
    baseRevenue: [3429, 25000],    // 1200/0.35=3429, 5000/0.20=25000
    baseMargin: [0.20, 0.35],
    marginDriftRange: [-0.003, 0.001],
    marginVolatility: 0.01,
  },
  restaurant: {
    id: 'restaurant',
    name: 'Restaurants & Food Service',
    emoji: 'üçΩÔ∏è',
    color: '#F6B26B',
    baseEbitda: [900, 3500],
    acquisitionMultiple: [3.0, 5.5],
    volatility: 0.11,
    capexRate: 0.12,
    organicGrowthRange: [0.00, 0.07],
    reinvestmentEfficiency: 1.1,
    clientConcentration: 'low',
    talentDependency: 'medium',
    recessionSensitivity: 0.8,
    sharedServicesBenefit: 1.3,
    sectorFocusGroup: ['restaurant', 'consumer'],
    subTypes: [
      'QSR / Fast Casual Franchise',
      'Casual Dining',
      'Coffee / Beverage Concept',
      'Ghost Kitchen / Delivery-First',
      'Specialty Food Concept',
      'Catering / Events',
      'Bakery / Dessert Concept',
    ],
    // Affinity groups: 0=dine-in/takeout, 1=grab-and-go/delivery
    subTypeGroups: [0, 0, 1, 1, 0, 0, 1],
    subTypeMarginModifiers: [0, 0, 0, 0, 0, 0.03, 0.02],
    subTypeGrowthModifiers: [0, 0, 0, 0, 0, -0.01, 0.02],
    baseRevenue: [5000, 43750],    // 900/0.18=5000, 3500/0.08=43750
    baseMargin: [0.08, 0.18],
    marginDriftRange: [-0.015, -0.008],
    marginVolatility: 0.03,
  },
  realEstate: {
    id: 'realEstate',
    name: 'Real Estate & Infrastructure',
    emoji: 'üè¢',
    color: '#93C47D',
    baseEbitda: [2000, 8000],
    acquisitionMultiple: [5.0, 9.0],
    volatility: 0.05,
    capexRate: 0.18,
    organicGrowthRange: [0.01, 0.04],
    reinvestmentEfficiency: 0.7,
    clientConcentration: 'low',
    talentDependency: 'low',
    recessionSensitivity: 0.6,
    sharedServicesBenefit: 0.6,
    sectorFocusGroup: ['realEstate'],
    subTypes: [
      'Self-Storage',
      'Multi-Family Residential',
      'Industrial / Logistics Warehousing',
      'Data Centers',
      'Utility / Infrastructure',
    ],
    // Affinity groups: 0=residential/storage, 1=commercial/tech infra, 2=utility
    subTypeGroups: [0, 0, 1, 1, 2],
    baseRevenue: [3077, 22857],    // 2000/0.65=3077, 8000/0.35=22857
    baseMargin: [0.35, 0.65],
    marginDriftRange: [-0.003, 0.000],
    marginVolatility: 0.01,
  },
  education: {
    id: 'education',
    name: 'Education & Training',
    emoji: 'üìö',
    color: '#76A5AF',
    baseEbitda: [800, 3200],
    acquisitionMultiple: [3.0, 5.5],
    volatility: 0.07,
    capexRate: 0.07,
    organicGrowthRange: [0.02, 0.07],
    reinvestmentEfficiency: 1.2,
    clientConcentration: 'low',
    talentDependency: 'medium',
    recessionSensitivity: -0.2, // counter-cyclical
    sharedServicesBenefit: 1.1,
    sectorFocusGroup: ['education', 'saas'],
    subTypes: [
      'Online Learning Platform',
      'Vocational / Trade School',
      'EdTech SaaS',
      'Corporate Training',
      'Test Prep / Tutoring',
      'Childcare / Early Education',
    ],
    // Affinity groups: 0=digital/online, 1=in-person, 2=supplemental
    subTypeGroups: [0, 1, 0, 1, 2, 1],
    subTypeMarginModifiers: [0, 0, 0, 0, 0, -0.02],
    subTypeGrowthModifiers: [0, 0, 0, 0, 0, 0.03],
    baseRevenue: [2286, 17778],    // 800/0.35=2286, 3200/0.18=17778
    baseMargin: [0.18, 0.35],
    marginDriftRange: [-0.004, 0.001],
    marginVolatility: 0.015,
  },
  insurance: {
    id: 'insurance',
    name: 'Insurance Services',
    emoji: 'üõ°Ô∏è',
    color: '#4ECDC4',
    baseEbitda: [1000, 4200],
    acquisitionMultiple: [4.0, 7.0],
    volatility: 0.08,
    capexRate: 0.04,
    organicGrowthRange: [0.02, 0.06],
    reinvestmentEfficiency: 1.0,
    clientConcentration: 'medium',
    talentDependency: 'high',
    recessionSensitivity: 0.35,
    sharedServicesBenefit: 1.2,
    sectorFocusGroup: ['insurance'],
    subTypes: [
      'P&C Agency',
      'Employee Benefits Brokerage',
      'Life & Annuities',
      'Specialty / Excess Lines',
      'Personal Lines',
      'MGA / Program Admin',
    ],
    subTypeGroups: [0, 0, 1, 2, 1, 2],
    baseRevenue: [3333, 21000],
    baseMargin: [0.20, 0.30],
    marginDriftRange: [-0.003, 0.001],
    marginVolatility: 0.01,
  },
  autoServices: {
    id: 'autoServices',
    name: 'Auto Services',
    emoji: 'üî©',
    color: '#D4813B',
    baseEbitda: [900, 3800],
    acquisitionMultiple: [3.0, 5.5],
    volatility: 0.07,
    capexRate: 0.10,
    organicGrowthRange: [0.01, 0.06],
    reinvestmentEfficiency: 0.9,
    clientConcentration: 'low',
    talentDependency: 'low',
    recessionSensitivity: 0.25,
    sharedServicesBenefit: 1.4,
    sectorFocusGroup: ['autoServices', 'homeServices'],
    subTypes: [
      'Tire & Wheel',
      'Collision / Body',
      'Quick Lube / Maintenance',
      'Fleet Services',
      'Transmission / Drivetrain',
      'Auto Glass / Detailing',
    ],
    subTypeGroups: [0, 1, 0, 0, 2, 1],
    baseRevenue: [3750, 31667],
    baseMargin: [0.12, 0.24],
    marginDriftRange: [-0.005, -0.001],
    marginVolatility: 0.015,
  },
  distribution: {
    id: 'distribution',
    name: 'Distribution & Logistics',
    emoji: 'üì¶',
    color: '#8B6F47',
    baseEbitda: [1200, 5000],
    acquisitionMultiple: [3.5, 6.5],
    volatility: 0.08,
    capexRate: 0.12,
    organicGrowthRange: [0.00, 0.06],
    reinvestmentEfficiency: 0.8,
    clientConcentration: 'medium',
    talentDependency: 'low',
    recessionSensitivity: 0.65,
    sharedServicesBenefit: 1.5,
    sectorFocusGroup: ['distribution', 'industrial'],
    subTypes: [
      'Food & Bev Distribution',
      'Industrial / MRO Supply',
      'Building Materials',
      'Janitorial / Facilities Supply',
      'Specialty / Niche',
      'Last-Mile Delivery',
    ],
    subTypeGroups: [1, 0, 0, 1, 2, 2],
    baseRevenue: [6667, 50000],
    baseMargin: [0.10, 0.18],
    marginDriftRange: [-0.005, 0.001],
    marginVolatility: 0.02,
  },
  wealthManagement: {
    id: 'wealthManagement',
    name: 'Wealth Management',
    emoji: 'üí∞',
    color: '#C9A84C',
    baseEbitda: [1000, 4500],
    acquisitionMultiple: [5.0, 9.0],
    volatility: 0.10,
    capexRate: 0.03,
    organicGrowthRange: [0.03, 0.08],
    reinvestmentEfficiency: 1.0,
    clientConcentration: 'medium',
    talentDependency: 'high',
    recessionSensitivity: 0.4,
    sharedServicesBenefit: 1.1,
    sectorFocusGroup: ['wealthManagement', 'insurance'],
    subTypes: [
      'Independent RIA',
      'Retirement Plan Advisory',
      'Family Office Services',
      'Tax & Estate Planning',
      'Insurance-Based Advisory',
      'Institutional Consulting',
    ],
    // Affinity groups: 0=wealth advisory, 1=specialized planning, 2=institutional
    subTypeGroups: [0, 0, 1, 1, 0, 2],
    subTypeMarginModifiers: [0, -0.01, 0.02, 0.01, -0.02, 0.03],
    subTypeGrowthModifiers: [0, 0.02, -0.01, 0, 0.01, -0.02],
    baseRevenue: [2222, 18000],    // 1000/0.45=2222, 4500/0.25=18000
    baseMargin: [0.25, 0.45],
    marginDriftRange: [-0.003, 0.001],
    marginVolatility: 0.015,
  },
  environmental: {
    id: 'environmental',
    name: 'Environmental Services',
    emoji: '‚ôªÔ∏è',
    color: '#2D8659',
    baseEbitda: [1200, 5000],
    acquisitionMultiple: [4.0, 7.0],
    volatility: 0.06,
    capexRate: 0.16,
    organicGrowthRange: [0.01, 0.05],
    reinvestmentEfficiency: 0.8,
    clientConcentration: 'low',
    talentDependency: 'low',
    recessionSensitivity: 0.3,
    sharedServicesBenefit: 1.4,
    sectorFocusGroup: ['environmental', 'homeServices'],
    subTypes: [
      'Commercial Waste Collection',
      'Residential Hauling',
      'Recycling & Materials Recovery',
      'Environmental Remediation',
      'Portable Sanitation',
      'Industrial Waste Management',
    ],
    // Affinity groups: 0=collection/hauling, 1=processing/remediation
    subTypeGroups: [0, 0, 1, 1, 0, 1],
    subTypeMarginModifiers: [0, -0.01, -0.02, 0.03, 0.01, 0.02],
    subTypeGrowthModifiers: [0, 0.01, 0.02, -0.02, 0, -0.01],
    baseRevenue: [4286, 33333],    // 1200/0.28=4286, 5000/0.15=33333
    baseMargin: [0.15, 0.28],
    marginDriftRange: [-0.004, 0.000],
    marginVolatility: 0.01,
  },
};

export const SECTOR_LIST = Object.values(SECTORS);

export function getSectorById(id: string): SectorDefinition | undefined {
  return SECTORS[id];
}
